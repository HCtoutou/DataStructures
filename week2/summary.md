- 了解树是如何用于实现几个流行的操作系统中的文件系统的。
- 看到树如何能够用来计算算术表达式的值。
- 指出如何利用树支持以O(log N)平均时间进行的各种搜索操作，以及如何细化以得到最坏情况时间界O(log N)。我么还将讨论当数据存储在磁盘上时如何来实现这些操作。

一棵树由称作根的节点r以及0个或者多个非空子树组成，这些子树中每一棵的根都被来自根r的一条有向边所连接。每一棵子树的根叫做根r的儿子，而r是每一棵子树的根的父亲。

一棵树是N个节点和N-1条边的集合。

没有儿子的节点称为树叶。具有相同父亲的节点称为兄弟。

## 二叉树

### 定义

二叉树是一个特殊的树，它的每个节点的儿子都不能多于两个。

![image-20211008212614744](C:\Users\86187\AppData\Roaming\Typora\typora-user-images\image-20211008212614744.png)

### 实现

因为一棵二叉树最多有两个儿子，所以我们可以用指针直接指向它们。

### 表达式树

如图是一个表达式树。表达式树的树叶是操作数，而其他节点为操作符。由于这里所有的操作都是二元的，因此这棵特定的树正好是二叉树，虽然这是最简单的情况，但是节点含有的儿子还是有可能多于两个的。

![image-20211008213108956](C:\Users\86187\AppData\Roaming\Typora\typora-user-images\image-20211008213108956.png)

### 查找树ADT——二叉查找树

#### 定义

使二叉树成为二叉查找树的性质是，对于树中的每个节点X，它的左子树中的所有关键字值小于X的关键字值，而它的右子树中所有关键字值大于X的关键字值。注意：这意味着，该树所有的元素可以用某种统一的方式排序。

对查找树的操作的平均运行时间都是O(log N)。

### AVL树

#### 定义

AVL树是带有平衡条件的二叉查找树。这个平衡条件必须要容易保持，而且必须保证树的深度是O(log N)。

#### 平衡条件

最简单的想法是要求左右子树具有相同的高度。这种想法并不强求树的深度要浅。

另一种平衡条件是要求每个节点都必须要有相同高度的左子树和右子树。如果空子树的高度定义为-1，那么只有具有2^k-1个节点的理想平衡树满足这个条件。因此，虽然这种平衡条件保证了树的深度很小，但是它太严格，难以使用。

一颗AVL树是其每个节点的左子树和右子树的高度最多差1的二叉树。

#### 旋转

在进行插入操作时，有时会破坏AVL树的平衡，这时我们就需要对树进行一些操作使其重新达到平衡的状态。

#### 最小不平衡子树

最小不平衡子树是指在平衡二叉树构造过程中，以距离插入节点最近的，且平衡因子的绝对值大于1的节点为根的子树。

一般就是通过对最小不平衡子树进行旋转操作来重新达到平衡

### 伸展树

伸展树保证从空树开始任意连续M次对树的操作最多花费O(M log N)时间

#### 基本想法

伸展树的基本想法是，当一个节点被访问后，他就要经过一系列的AVL树的旋转后放到根上。注意，如果一个节点很深，那么在其路径上就存在许多的节点也相对较深，通过重新构造可以使对所有这些节点的进一步访问所花费的时间变少。因此，如果节点过深，那么我们还要求重新构造应具有平衡这棵树的作用。

### B树

阶为M的B树是一颗具有下列结构特性的树：

- 树的根或者是一片树叶，或者其儿子数在2和M之间。
- 除根外，所有非树叶节点的儿子数在[M/2]和M之间。
- 所有的树叶都在相同的深度上。